---
title: "äºšä¿¡ç®—æ³•å®ä¹ ç¬”è®°"
date: 2023-07-21T18:18:05+08:00
lastmod: 2023-08-01T09:19:06+08:00
draft: false
featured_image: "https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/%E5%AE%9E%E4%B9%A0/shixi_tiltle.jpg"
description: "åœ¨å®ä¹ æœŸé—´é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œä»¥åŠè§£å†³æ€è·¯å’Œæ–¹æ¡ˆ"
tags:
- å®ä¹ ç¬”è®°
categories:
- å®ä¹ 
series:
- å®ä¹ ç¬”è®°
comment : true
---


## äºšä¿¡å›¾åƒç®—æ³•å®ä¹ ç¬”è®°

### æˆæƒä¹¦åŒºåŸŸè¯†åˆ«é¡¹ç›®ï¼š2023.7.24ï½2023.8.05

#### ä¿®æ”¹LinuxæœåŠ¡å™¨æ–‡ä»¶æƒé™é—®é¢˜

* å°†æ–‡ä»¶è®¾ç½®ä¸ºå¯è¯»å†™æ‰§è¡Œæƒé™ï¼š

```shell
$ chmod 777 file
```

* ç»™æ–‡ä»¶æ‰€æœ‰è€…å¢åŠ å†™æƒé™ï¼š

```shell
$ chmod u+w file
```

* ç»™æ–‡ä»¶æ‰€æœ‰è€…å’ŒåŒç»„ç”¨æˆ·èµ‹äºˆè¯»å†™æƒé™ï¼Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»æƒé™ï¼š

```shell
$ chmod 664 file
```

* é€’å½’ä¿®æ”¹ç›®å½•åŠå…¶å­ç›®å½•ä¸­çš„æ–‡ä»¶æƒé™ï¼š

```shell
$ chmod -R 755 directory
```

* æ˜¾ç¤ºä¿®æ”¹åçš„æƒé™ä¿¡æ¯ï¼š

```shell
$ chmod -v 755 file
```

è¯·æ³¨æ„ï¼Œä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™éœ€è¦æœ‰è¶³å¤Ÿçš„æƒé™è¿›è¡Œæ“ä½œã€‚åªæœ‰æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€…æˆ–è¶…çº§ç”¨æˆ·(root)æ‰èƒ½æ›´æ”¹æƒé™ã€‚



#### Dockeré…ç½®æ·±åº¦å­¦ä¹ ç¯å¢ƒ

> ç¬¬ä¸€æ­¥ï¼Œå®‰è£…Docker

* æ£€æŸ¥dockeræ˜¯å¦å®‰è£…ï¼š

```shell
$ docker help
```

* å¦‚æœæ²¡æœ‰å®‰è£…dockerï¼Œåˆ™ä½¿ç”¨å®˜æ–¹æä¾›çš„è„šæœ¬è¿›è¡Œå®‰è£…ï¼š

```shell
$ curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun
```

> Dockeré•œåƒåŠ é€Ÿ

* åœ¨`/etc/docker/daemon.json`ä¸­å†™å…¥å¦‚ä¸‹å†…å®¹ï¼Œå¦‚æœæ²¡æœ‰è¯¥æ–‡ä»¶åˆ™æ–°å»ºï¼š

```scss
{"registry-mirrors":["https://XXX.mirror.aliyuncs.com/"]}
```

* é‡å¯DockeræœåŠ¡ï¼š

```shell
$ sudo systemctl daemon-reload
$ sudo systemctl restart docker
```

> ä»Docker Hubä¸‹è½½é•œåƒ

* è¿›å…¥[Docker Hub](https://hub.docker.com/)ï¼Œå› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯pytorchçš„è®­ç»ƒæ¡†æ¶ï¼Œæœç´¢`torch1.9.0-cuda11.1-cudnn8`
* ç‚¹å‡»å·¦è¾¹çš„`tags`ï¼Œå¤åˆ¶æ‹‰å–é•œåƒçš„è„šæœ¬ï¼Œåœ¨æœåŠ¡å™¨çš„å‘½ä»¤è¡Œä¸Šè¿è¡Œ

> è¿è¡ŒDockerå®¹å™¨

* ä¸‹è½½å®Œå®¹å™¨é•œåƒä¹‹åï¼ŒæŸ¥çœ‹æ‰€æœ‰imagesï¼š

```shell
$ docker images
```

* æ‰¾åˆ°è‡ªå·±çš„å®¹å™¨ï¼Œå¯åŠ¨è¯¥å®¹å™¨ï¼š

```shell
$ docker run -it mindest/torch1.9.0-cuda11.1-cudnn8:bevt /bin/bash 
```

å‚æ•°è¯´æ˜ï¼š

`-i`ï¼šäº¤äº’å¼æ“ä½œ

`-t`ï¼šç»ˆç«¯

`mindest/torch1.9.0-cuda11.1-cudnn8:bevt`ï¼šé•œåƒåç§°ï¼šé•œåƒæ ‡ç­¾

`bin/bash`ï¼šæ”¾åœ¨é•œåƒåé¢çš„æ˜¯å‘½ä»¤ï¼Œè¿™é‡Œæˆ‘ä»¬å¸Œæœ›æœ‰ä¸ªäº¤äº’å¼ Shellï¼Œå› æ­¤ç”¨çš„æ˜¯bin/bash

> åœ¨å®¹å™¨å†…å®‰è£…æ‰€éœ€è¦çš„åŒ…ï¼Œå¹¶æ›´æ–°é•œåƒ

* å®‰è£…éœ€è¦çš„åŒ…ï¼Œç›´æ¥ä½¿ç”¨`pip install`å’Œ`conda install`
* æ›´æ–°é•œåƒï¼šå®¹å™¨æ˜¯åŠ¨æ€çš„ï¼Œé•œåƒæ˜¯é™æ€çš„ã€‚æˆ‘ä»¬åœ¨å®¹å™¨é‡Œæ›´æ–°äº†PythonåŒ…ï¼Œä¸ºäº†ä»¥åå¯ä»¥æŒä¹…åœ°ä½¿ç”¨ï¼Œè¿˜éœ€è¦ä½¿ç”¨`commit`å°†å®¹å™¨æ‰“åŒ…ä¸ºé•œåƒã€‚

```shell
$ docker commit -m="update packages" -a="XXX" bb8967093b48 XXX/torch1.9.0-cuda11.1-cudnn8:bevt
```

å„ä¸ªå‚æ•°è¯´æ˜ï¼š

- `-m`: æäº¤çš„æè¿°ä¿¡æ¯
- `-a`: æŒ‡å®šé•œåƒä½œè€…
- `bb8967093b48`ï¼šå®¹å™¨ ID
- `XXX/mypymarl:v1`: æŒ‡å®šè¦åˆ›å»ºçš„ç›®æ ‡é•œåƒåï¼ˆä½œè€…å/é•œåƒåï¼šæ ‡ç­¾ï¼‰

> åœ¨æœ¬åœ°ä½¿ç”¨å®¹å™¨è¿è¡Œä»£ç 

* é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„Ubuntuç³»ç»Ÿå’Œdockerå®¹å™¨å…±äº«çš„æ–‡ä»¶å¤¹ï¼š

```shell
$ sudo mkdir /data
$ sudo docker run -v /data:/data -itd caixj/pytorch:v1
```

* æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨:

```shell
$ docker ps
```

* **æ‰¾åˆ°æˆ‘ä»¬å®¹å™¨çš„ID**ï¼Œå¹¶è¿›å…¥è¯¥å®¹å™¨

```shell
$ docker attach 500ad76de1cf
```

> å®‰è£…nvdia-cuda

Docker é»˜è®¤æ˜¯ä¸æ”¯æŒåœ¨å®¹å™¨å†… GPU åŠ é€Ÿçš„ï¼ŒNVIDIA å®˜æ–¹åšäº†ä¸ªå·¥å…·ç®±æ¥æ”¯æŒå®¹å™¨å†… GPU åŠ é€Ÿè¿ç®—ï¼Œè¿™å¤§å¤§æ–¹ä¾¿äº†æ·±åº¦å­¦ä¹ å¼€å‘è€…ã€‚è¿™é‡Œç›´æ¥æ ¹æ®å®˜æ–¹æ•™ç¨‹å®‰è£…å³å¯ã€‚

[https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html](https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html)

å®‰è£…å®Œnvidia-cudaä¹‹åï¼Œå†åˆ›å»ºå®¹å™¨æ—¶åŠ ä¸Š`--gpus all`ï¼Œå³å¯åœ¨å®¹å™¨å†…è°ƒç”¨cudaï¼Œå³

```shell
$ sudo docker run -v /data:/data -itd --gpus all caixj/pytorch:v1 bash
```

ç„¶åè·Ÿä¸Šè¿°æ­¥éª¤ç›¸åŒï¼Œè¿›å…¥å®¹å™¨ï¼Œç„¶åè¿è¡Œä»£ç å°±okã€‚

* æœ¬åœ°ä¿å­˜é•œåƒ

```shell
$ docker save -o <your_file_name.tar> <image id>
```

* é€šè¿‡æœ¬åœ°é•œåƒå¯¼å…¥dockerå®¹å™¨

```shell
$ docker load < your_file.tar.gz
# æˆ–è€…
$ docker load --input your_file.tar
# å®ƒçš„imagesçš„åå­—ä¼šå˜ä¸ºyour_file:latest
```

#### Dockerå¸¸ç”¨å‘½ä»¤

* æŸ¥çœ‹æ‰€æœ‰é•œåƒ

```text
docker images
```

* æŸ¥æ‰¾é•œåƒ

```text
docker search XXX/image
```

* ä¸‹è½½é•œåƒ

```text
docker pull XXX/images:tag
```

* åˆ é™¤é•œåƒ

```text
docker rmi XXX/images:ta
```

* å¯åŠ¨å®¹å™¨

```text
docker run -it image:tag /bin/bash
```

* é€€å‡ºå®¹å™¨

```text
exi
```

*  æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨

```text
docker ps
```

*  è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨

```text
docker attach container_ID
```

* æŸ¥çœ‹å·²åœæ­¢è¿è¡Œçš„å®¹å™¨

```text
docker ps -a
```

* å¯åŠ¨å·²åœæ­¢çš„å®¹å™¨

```text
docker start container_ID
```

* åœæ­¢å®¹å™¨

```text
docker stop container_ID
```

*  é‡å¯å·²åœæ­¢å®¹å™¨

```text
docker restart container_I
```

* é€€å‡ºå®¹å™¨ç»ˆç«¯ï¼ˆä½†ä¸åœæ­¢ï¼‰

```text
docker exec
```



#### ç›®æ ‡æ£€æµ‹æ£€æµ‹æ¡†åŸç†

> YOLOv4æ£€æµ‹å¤´åŸç†

æ£€æµ‹å¤´ç”±ä¸€ä¸ªå¸¸è§„çš„$3\times 3$å·ç§¯æ¥ä¸Šä¸€ä¸ª$1\times 1$å·ç§¯ç»„æˆã€‚å‡è®¾è¾“å…¥å›¾åƒä¸º$416\times 416$ï¼Œæœ€åå¾—åˆ°çš„ç‰¹å¾å›¾çš„å¤§å°ä¸º`(B, 75, 26, 26)`ï¼Œè¿™é‡Œçš„åˆ†ç±»æ•°ä¸º20ã€‚

é‚£ä¹ˆé€šé“æ•°75æ˜¯å¦‚ä½•å¾—åˆ°çš„å‘¢ï¼Ÿ

75 = 3 * ï¼ˆ5 + åˆ†ç±»æ•°ï¼‰ = 3 * ï¼ˆ4 + 1 + 20ï¼‰= 75

åœ¨$26\times 26$çš„ç‰¹å¾å±‚ä¸­ï¼Œä¼šé¢„å…ˆæ ‡å®šä¸‰ä¸ªå…ˆéªŒæ¡†ï¼Œ**YOLOv4ç½‘ç»œçš„é¢„æµ‹ç»“æœåªä¼šåˆ¤å®šå…ˆéªŒæ¡†å†…éƒ¨æ˜¯å¦åŒ…å«ç‰©ä½“å’Œè¿™ä¸ªç‰©ä½“çš„ç§ç±»ä»¥åŠå¯¹å…ˆéªŒæ¡†è¿›è¡Œè°ƒæ•´ï¼Œè·å¾—ä¸€ä¸ªæ–°çš„é¢„æµ‹æ¡†**ã€‚

**æ‰€ä»¥ä¸Šé¢çš„3ä»£è¡¨æ¯ä¸€ä¸ªç‰¹å¾å›¾ä¸Šçš„ä¸‰ä¸ªå…ˆéªŒæ¡†ã€‚4 + 1ä¸­çš„4ä»£è¡¨äº†å…ˆéªŒæ¡†çš„è°ƒæ•´å‚æ•°ï¼Œ1çš„å†…å®¹ä»£è¡¨å…ˆéªŒæ¡†å†…éƒ¨æ˜¯å¦åŒ…å«ç‰©ä½“ï¼Œnum_classesä¸ªé€šé“åˆ†åˆ«ä»£è¡¨å±äºè¯¥ç±»çš„æ¦‚ç‡ã€‚**

> å…ˆéªŒæ¡†è¯¦è§£ä¸è§£ç 

å…ˆçœ‹å…ˆéªŒæ¡†çš„è§£ç ä»£ç ï¼š

```python
class DecodeBox():
    def __init__(self, anchors, num_classes, input_shape, anchors_mask = [[6,7,8], [3,4,5], [0,1,2]]):
        super(DecodeBox, self).__init__()
        self.anchors        = anchors
        self.num_classes    = num_classes
        self.bbox_attrs     = 5 + num_classes
        self.input_shape    = input_shape
        #-----------------------------------------------------------#
        #   13x13çš„ç‰¹å¾å±‚å¯¹åº”çš„anchoræ˜¯[81,82],[135,169],[344,319]
        #   26x26çš„ç‰¹å¾å±‚å¯¹åº”çš„anchoræ˜¯[10,14],[23,27],[37,58]
        #-----------------------------------------------------------#
        self.anchors_mask   = anchors_mask

    def decode_box(self, inputs):
        outputs = []
        for i, input in enumerate(inputs):
            #-----------------------------------------------#
            #   è¾“å…¥çš„inputä¸€å…±æœ‰ä¸‰ä¸ªï¼Œä»–ä»¬çš„shapeåˆ†åˆ«æ˜¯
            #   batch_size, 255, 13, 13
            #   batch_size, 255, 26, 26
            #-----------------------------------------------#
            batch_size      = input.size(0)
            input_height    = input.size(2)
            input_width     = input.size(3)

            #-----------------------------------------------#
            #   è¾“å…¥ä¸º416x416æ—¶
            #   stride_h = stride_w = 32ã€16ã€8
            #-----------------------------------------------#
            stride_h = self.input_shape[0] / input_height
            stride_w = self.input_shape[1] / input_width
            #-------------------------------------------------#
            #   æ­¤æ—¶è·å¾—çš„scaled_anchorså¤§å°æ˜¯ç›¸å¯¹äºç‰¹å¾å±‚çš„
            #-------------------------------------------------#
            scaled_anchors = [(anchor_width / stride_w, anchor_height / stride_h) for anchor_width, anchor_height in self.anchors[self.anchors_mask[i]]]

            #-----------------------------------------------#
            #   è¾“å…¥çš„inputä¸€å…±æœ‰ä¸‰ä¸ªï¼Œä»–ä»¬çš„shapeåˆ†åˆ«æ˜¯
            #   batch_size, 3, 13, 13, 85
            #   batch_size, 3, 26, 26, 85
            #-----------------------------------------------#
            prediction = input.view(batch_size, len(self.anchors_mask[i]),
                                    self.bbox_attrs, input_height, input_width).permute(0, 1, 3, 4, 2).contiguous()

            #-----------------------------------------------#
            #   å…ˆéªŒæ¡†çš„ä¸­å¿ƒä½ç½®çš„è°ƒæ•´å‚æ•°
            #-----------------------------------------------#
            x = torch.sigmoid(prediction[..., 0])  
            y = torch.sigmoid(prediction[..., 1])
            #-----------------------------------------------#
            #   å…ˆéªŒæ¡†çš„å®½é«˜è°ƒæ•´å‚æ•°
            #-----------------------------------------------#
            w = prediction[..., 2]
            h = prediction[..., 3]
            #-----------------------------------------------#
            #   è·å¾—ç½®ä¿¡åº¦ï¼Œæ˜¯å¦æœ‰ç‰©ä½“
            #-----------------------------------------------#
            conf        = torch.sigmoid(prediction[..., 4])
            #-----------------------------------------------#
            #   ç§ç±»ç½®ä¿¡åº¦
            #-----------------------------------------------#
            pred_cls    = torch.sigmoid(prediction[..., 5:])

            FloatTensor = torch.cuda.FloatTensor if x.is_cuda else torch.FloatTensor
            LongTensor  = torch.cuda.LongTensor if x.is_cuda else torch.LongTensor

            #----------------------------------------------------------#
            #   ç”Ÿæˆç½‘æ ¼ï¼Œå…ˆéªŒæ¡†ä¸­å¿ƒï¼Œç½‘æ ¼å·¦ä¸Šè§’ 
            #   batch_size,3,13,13
            #----------------------------------------------------------#
            grid_x = torch.linspace(0, input_width - 1, input_width).repeat(input_height, 1).repeat(
                batch_size * len(self.anchors_mask[i]), 1, 1).view(x.shape).type(FloatTensor)
            grid_y = torch.linspace(0, input_height - 1, input_height).repeat(input_width, 1).t().repeat(
                batch_size * len(self.anchors_mask[i]), 1, 1).view(y.shape).type(FloatTensor)

            #----------------------------------------------------------#
            #   æŒ‰ç…§ç½‘æ ¼æ ¼å¼ç”Ÿæˆå…ˆéªŒæ¡†çš„å®½é«˜
            #   batch_size,3,13,13
            #----------------------------------------------------------#
            anchor_w = FloatTensor(scaled_anchors).index_select(1, LongTensor([0]))
            anchor_h = FloatTensor(scaled_anchors).index_select(1, LongTensor([1]))
            anchor_w = anchor_w.repeat(batch_size, 1).repeat(1, 1, input_height * input_width).view(w.shape)
            anchor_h = anchor_h.repeat(batch_size, 1).repeat(1, 1, input_height * input_width).view(h.shape)

            #----------------------------------------------------------#
            #   åˆ©ç”¨é¢„æµ‹ç»“æœå¯¹å…ˆéªŒæ¡†è¿›è¡Œè°ƒæ•´
            #   é¦–å…ˆè°ƒæ•´å…ˆéªŒæ¡†çš„ä¸­å¿ƒï¼Œä»å…ˆéªŒæ¡†ä¸­å¿ƒå‘å³ä¸‹è§’åç§»
            #   å†è°ƒæ•´å…ˆéªŒæ¡†çš„å®½é«˜ã€‚
            #----------------------------------------------------------#
            pred_boxes          = FloatTensor(prediction[..., :4].shape)
            pred_boxes[..., 0]  = x.data + grid_x
            pred_boxes[..., 1]  = y.data + grid_y
            pred_boxes[..., 2]  = torch.exp(w.data) * anchor_w
            pred_boxes[..., 3]  = torch.exp(h.data) * anchor_h

            #----------------------------------------------------------#
            #   å°†è¾“å‡ºç»“æœå½’ä¸€åŒ–æˆå°æ•°çš„å½¢å¼
            #----------------------------------------------------------#
            _scale = torch.Tensor([input_width, input_height, input_width, input_height]).type(FloatTensor)
            output = torch.cat((pred_boxes.view(batch_size, -1, 4) / _scale,
                                conf.view(batch_size, -1, 1), pred_cls.view(batch_size, -1, self.num_classes)), -1)
            outputs.append(output.data)
        return outputs
```

ä¸‹é¢å±•ç¤ºäº†ä¸€ä¸ªå…·ä½“å›¾ç‰‡çš„å…ˆéªŒæ¡†è°ƒæ•´è¿‡ç¨‹ï¼š

![](https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/%E5%AE%9E%E4%B9%A0/img1.jpg)

å¯ä»¥çœ‹åˆ°åŸæœ¬çš„ä¸‰ä¸ªå…ˆéªŒæ¡†çš„ä¸­å¿ƒç‚¹æ˜¯ç›¸åŒçš„ï¼Œè°ƒæ•´ä¹‹åï¼Œå…ˆéªŒæ¡†çš„ä¸­å¿ƒç‚¹å‘ç”Ÿäº†åç§»ã€‚

> YOLOv4çš„é¢„æµ‹è¿‡ç¨‹

è®¡ç®—è¾“å…¥å›¾ç‰‡çš„å®½é«˜ â€”â€”> å°†å›¾ç‰‡è½¬åŒ–ä¸ºRGBå›¾ç‰‡ â€”â€”> ç»™å›¾ç‰‡å¢åŠ ç°æ¡ï¼Œå®ç°ä¸å¤±çœŸçš„resize â€”â€”> å½’ä¸€åŒ–è½¬ç½®åï¼Œæ·»åŠ ä¸ŠBatchç»´åº¦ â€”â€”> å°†å›¾ç‰‡è¾“å…¥ç½‘ç»œè¿›è¡Œé¢„æµ‹ï¼ˆéœ€è¦è½¬ä¸ºtensorï¼‰â€”â€”> å¯¹è¾“å‡ºç‰¹å¾å±‚è¿›è¡Œè§£ç  â€”â€”> å¯¹é¢„æµ‹æ¡†è¿›è¡Œå †å ï¼Œè¿›è¡Œéæå¤§æŠ‘åˆ¶



å…¶ä¸­éæå¤§æŠ‘åˆ¶è¿‡ç¨‹ï¼šå–å‡ºæ¯ä¸€ç§ç±»çš„ç²‰æœ€å¤§çš„æ¡†ï¼ŒæŠŠå®ƒå’Œå…¶ä»–çš„æ¡†è¿›è¡Œä¸€ä¸ªäº¤å¹¶æ¯”çš„è®¡ç®—ï¼Œå¦‚æœè¯¥å€¼å¤§äºè®¾ç½®çš„é˜ˆå€¼ï¼Œåˆ™ä¿ç•™è¿™ä¸ªæ¡†ã€‚

> VOCæ£€æµ‹æ•°æ®é›†çš„æ ¼å¼

è¯¥æ ¼å¼çš„ä¸»ä½“ç›®å½•ä¸ºï¼š

```scss
- æ•°æ®é›†åç§°
-|- VOC2007
-|-|- ImageSetsï¼ˆæ–‡ä»¶å¤¹é‡Œé¢æ”¾è®­ç»ƒé›†ï¼ŒéªŒè¯é›†ï¼Œæµ‹è¯•é›†ï¼Œä»¥txtçš„å½¢å¼å‘ˆç°ï¼‰
-|-|- JPEGImagesï¼ˆæ–‡ä»¶å¤¹é‡Œé¢æ”¾åŸå›¾ï¼‰
-|-|- Annotationsï¼ˆæ–‡ä»¶å¤¹é‡Œé¢æ”¾æ ‡ç­¾çš„ä¿¡æ¯ï¼Œä»¥xmlæ–‡ä»¶å½¢å¼å­˜åœ¨ï¼‰
```

å…¶ä¸­`Annotations`ä¸­å¯¹åº”`JPEGImages`é‡Œé¢æ¯å¼ å›¾ç‰‡å¯¹åº”ä¸€ä¸ªxmlæ–‡ä»¶ï¼Œæ”¾ä¸€ä¸ªxmlæ–‡ä»¶çš„æ ¼å¼ç¤ºä¾‹ï¼š

```xml
<annotation>
    <folder>VOC2007</folder>
    <filename>ed27edc6-cec1-11ed-96cf-58961d2b4192.jpg</filename>
    <size>
        <width>1000</width>
        <height>750</height>
        <depth>3</depth>
    </size>
    <object>
        <name>class1</name>
        <bndbox>
            <xmin>899</xmin>
            <ymin>29</ymin>
            <xmax>923</xmax>
            <ymax>286</ymax>
        </bndbox>
    </object>
    <object>
        <name>class2</name>
        <bndbox>
            <xmin>814</xmin>
            <ymin>69</ymin>
            <xmax>840</xmax>
            <ymax>319</ymax>
        </bndbox>
    </object>
    <object>
        <name>class3</name>
        <bndbox>
            <xmin>745</xmin>
            <ymin>60</ymin>
            <xmax>761</xmax>
            <ymax>195</ymax>
        </bndbox>
    </object>
    <object>
        <name>class4</name>
        <bndbox>
            <xmin>741</xmin>
            <ymin>307</ymin>
            <xmax>759</xmax>
            <ymax>520</ymax>
        </bndbox>
    </object>
    <object>
        <name>class5</name>
        <bndbox>
            <xmin>693</xmin>
            <ymin>61</ymin>
            <xmax>710</xmax>
            <ymax>211</ymax>
        </bndbox>
    </object>
    <object>
        <name>class6</name>
        <bndbox>
            <xmin>511</xmin>
            <ymin>51</ymin>
            <xmax>613</xmax>
            <ymax>579</ymax>
        </bndbox>
    </object>
    <object>
        <name>class7</name>
        <bndbox>
            <xmin>93</xmin>
            <ymin>304</ymin>
            <xmax>114</xmax>
            <ymax>544</ymax>
        </bndbox>
    </object>
</annotation>
```

å…¶ä¸­æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯åªæœ‰<object>é‡Œé¢çš„å†…å®¹ï¼Œåˆ†åˆ«åŒ…å«äº†ç±»çš„ä¿¡æ¯çš„æ ‡ç­¾æ¡†çš„åæ ‡ä½ç½®ä¿¡æ¯ã€‚

> é€šè¿‡èšç±»ç®—æ³•å¯¹ç‰¹å®šæ•°æ®é›†è¿›è¡Œå…ˆéªŒæ¡†çš„è°ƒæ•´

å…ˆéªŒæ¡†çš„æ£€æµ‹å’Œè¾¹æ¡†é¢„æµ‹éƒ½æ˜¯åœ¨ YOLOv4 æ¨¡å‹ä¸­çš„å¤´éƒ¨æ£€æµ‹æ¨¡å—ä¸­è¿›è¡Œçš„ï¼ŒYOLOv4 æ¨¡å‹åœ¨è®¾è®¡æ—¶æ²¡æœ‰å¯¹ Head è¿›è¡Œæ”¹è¿›ï¼Œä½¿ç”¨çš„ä»ç„¶æ˜¯ YOLO_Head æ£€æµ‹å¤´ã€‚è®¾å®šçš„è¿™äº›å…ˆéªŒæ¡†å°ºå¯¸å°±æ˜¯ç»è¿‡èšç±»ç®—æ³• K-means èšç±»è€Œæ¥çš„ï¼Œå…¶ä¸­çš„ Kçš„å–å€¼ï¼Œä¸€èˆ¬æ˜¯éšæœºç¡®å®šä¸€ä¸ªåˆå§‹ç‚¹ï¼Œç„¶ååœ¨è·ç¦»è¿™ä¸ªç‚¹æœ€è¿œçš„è·ç¦»ä¸ºç¬¬äºŒä¸ªç‚¹ï¼Œä»¥æ­¤ç±»æ¨å¯ä»¥ç¡®å®šå¤šä¸ªç‚¹ã€‚å‡è®¾Kçš„å–å€¼ä¸º 2ï¼ŒåŒ…æ‹¬äº†æ‰‹æœºå’ŒçƒŸå¤´ä¸¤ç§ç›®æ ‡ç±»å‹ã€‚

è¿™é‡Œè®¾å®šçš„å…ˆéªŒæ¡†ä¼šæ ¹æ®ç½‘æ ¼å†…æ˜¯å¦å­˜åœ¨ç›®æ ‡å¯¹å…ˆéªŒæ¡†è¿›è¡Œç»´æŒçš„å¾®è°ƒã€‚æ˜ å°„åˆ°æœ¬æ–‡ä¸­çš„YOLOv4 æ£€æµ‹ç®—æ³•ä¸­ï¼Œåœ¨ç”Ÿæˆç½‘æ ¼åï¼Œåœ¨æ¯ä¸ªç½‘æ ¼ä¸­ç”Ÿæˆä¸‰ä¸ªä¸åŒå°ºå¯¸çš„é¢„æµ‹æ¡†ï¼Œè¿™ä¸‰ä¸ªé¢„æµ‹æ¡†ä¼šå¯¹å‡ºç§Ÿè½¦å¸æœºè¿è§„è¡Œä¸ºæ•°æ®ä¸­çš„æ‰‹æœºå’ŒçƒŸå¤´ç›®æ ‡è¿›è¡Œå¾®è°ƒå¾—åˆ°çœŸå®æ¡†ï¼Œå¹¶é€šè¿‡å…ˆéªŒæ¡†å’ŒçœŸå®æ¡†æ±‚å‡ºå®ƒä»¬ä¹‹é—´çš„ IOU (äº¤å¹¶æ¯”)ï¼Œé€šè¿‡äº¤å¹¶æ¯”æ¥åˆ¤æ–­å‡ºæ›´çœŸå®çš„æ£€æµ‹æ¡†ã€‚

#### è¿œç¨‹ä½¿ç”¨æœåŠ¡å™¨ä¸Šçš„Tensorboard

æœ¬æœºæ“ä½œç³»ç»Ÿï¼šMacOS 12

æœåŠ¡å™¨ç³»ç»Ÿï¼šUbuntu

> å¦‚ä½•è¿œç¨‹ä½¿ç”¨TensorBoard

* è¿æ¥sshæ—¶ï¼Œå°†æœåŠ¡å™¨çš„6006ç«¯å£é‡å®šå‘åˆ°è‡ªå·±çš„æœºå™¨ä¸Š

```shell
$ ssh -L 16006:127.0.0.1:6006 username@remote_server_ip
```

æˆ–è€…

```shell
$ ssh -L 8008:localhost:6006 username@remote_server_ip
```

* åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨6006ç«¯å£æ­£å¸¸å¯åŠ¨tensorboardï¼š

```shell
$ tensorboard --logdir=xxx --port=6006
```

* åœ¨æœ¬åœ°æµè§ˆå™¨è¾“å…¥åœ°å€ï¼š

```scss
127.0.0.1:16006
```

#### æˆæƒä¹¦ç‰¹å®šåŒºåŸŸæ£€æµ‹æ€è·¯

æˆæƒä¹¦çš„éœ€æ±‚å¦‚ä¸‹ï¼š

![](https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/%E5%AE%9E%E4%B9%A0/img2.jpg)

ç»™å®šä¸€å¼ ç§»åŠ¨å…¬å¸çš„æˆæƒä¹¦æ¨¡ç‰ˆï¼Œéœ€è¦å°†ä»£è¡¨ä¸åŒåŒºåŸŸçš„ä½ç½®ç»™åˆ†å‰²å‡ºæ¥ï¼Œç„¶åäº¤ç»™æ–‡å­—OCRè¿›è¡Œè¯†åˆ«ã€‚

ç”±äºæ–‡å­—OCRå·²ç»åšå¥½äº†ï¼Œç»™æˆ‘çš„éœ€æ±‚å°±æ˜¯å°†è¯¥å›¾ä¸Šè¿™äº›åŒºåŸŸç»™åˆ†å‰²å‡ºæ¥ã€‚

> éš¾ç‚¹è§£æ

* 1.è¯¥éœ€æ±‚åªå¯¹ç‰¹å®šçš„ä¿¡æ¯åŒºåŸŸè¿›è¡Œæ£€æµ‹ã€‚
* 2.å¯¹äºç‰¹å®šæ–‡å­—åŒºåŸŸæ¥è¯´ï¼Œå¯¹äºæ•´å¼ å›¾ç‰‡æ¥è¯´ï¼Œè¯­ä¹‰ä¿¡æ¯ä¸å…¶ä»–æ–‡å­—åŒºåŸŸç›¸ä¼¼ï¼›ä¸”åœ¨è¿™äº›åŒºåŸŸä¸­ï¼Œå­˜åœ¨æ‰‹å†™ä½“å’Œæ‰“å°ä½“ã€‚åŒºåŸŸåœ¨æ‹–ç‰‡ä¸­çš„ä½ç½®æ˜¯ä¸å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆæƒä¹¦çš„æ‘†æ”¾ä½ç½®æ˜¯ä¸å›ºå®šçš„ï¼ˆæ¨ªç«–æ‘†æ”¾éƒ½å­˜åœ¨ï¼‰ã€‚
* 3.å¯¹æ£€æµ‹çš„å‡†ç¡®ç‡è¦æ±‚è¾ƒé«˜ï¼Œä¹Ÿå°±æ˜¯Precsionè¾ƒé«˜ï¼Œå› ä¸ºæ£€æµ‹ä¸å‡†ï¼Œé‚£ä¹ˆå°±ä¼šæ¼æ–‡å­—ã€‚

> è§£å†³æ€è·¯

* 1.é’ˆå¯¹è¯­ä¹‰ä¿¡æ¯ä¸è¶³çš„é—®é¢˜ï¼Œæ‹Ÿé‡‡ç”¨åˆ†ä¸¤é˜¶æ®µæ£€æµ‹çš„æ–¹æ³•è¿›è¡Œã€‚ç¬¬ä¸€é˜¶æ®µæ£€æµ‹å¸¦æ–‡å­—å±æ€§å­—æ®µå’Œå±æ€§ä¿¡æ¯çš„è”åˆåŒºåŸŸçš„æ£€æµ‹ã€‚å¦‚ä¸‹å›¾ï¼š

![](https://blog-1311257248.cos.ap-nanjing.myqcloud.com/imgs/%E5%AE%9E%E4%B9%A0/img3.jpg)

ç¬¬äºŒé˜¶æ®µå°†é™¤äº†æ£€æµ‹åˆ°çš„åŒºåŸŸåƒç´ å…¨éƒ¨ç½®0ï¼ˆåŠ maskï¼‰ã€‚å†å¯¹æˆ‘ä»¬çš„å±æ€§ä¿¡æ¯éƒ¨åˆ†åŒºåŸŸè¿›è¡Œæ£€æµ‹ã€‚å°†éš¾åº¦è¾ƒé«˜çš„ä»»åŠ¡åˆ†ä¸ºä¸¤ä¸ªæ›´ç®€å•çš„ä»»åŠ¡çš„ç»„åˆã€‚

* 2.yoloç³»åˆ—ç®—æ³•é›†æˆè¾ƒå¥½ï¼Œä½¿ç”¨èµ·æ¥æˆæœ¬ä¸ä¼šç‰¹åˆ«é«˜ã€‚ï¼ˆä¼—æ‰€å‘¨çŸ¥ï¼Œæ”¹è¿›ç»“æ„çš„æ•ˆæœæ˜¯æœ‰é™çš„ï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨ç§‘ç ”ï¼Œèƒ½è§£å†³é—®é¢˜å°±è¡Œï¼‰ã€‚
* 3.å¯¹äºåˆ†ç±»çš„é—®é¢˜ï¼Œç¬¬ä¸€é˜¶æ®µåº”è¯¥è¿›è¡Œåˆ†ç±»ã€‚é¦–å…ˆä¸åŒçš„ç±»ä¹‹é—´åœ¨å›¾ç‰‡ä¸­çš„ä½ç½®ä¿¡æ¯ä¸åŒï¼Œå‘¨å›´çš„æ–‡å­—åˆ†å¸ƒä¿¡æ¯ä¹Ÿä¸åŒã€‚æ ¹æ®è¿™ä¸ªç‚¹å¯ä»¥æ¯”è¾ƒå¥½åˆ†ç±»ã€‚å¦‚æœå°†æ‰€æœ‰åŒºåŸŸåˆ†ä¸º1ç±»ï¼Œåˆ™å¾ˆéš¾æ‰¾åˆ°å®ƒä»¬è”åˆçš„ç‰¹å¾ä¸å…¶ä»–æ–‡æœ¬åŒºåŸŸç‰¹å¾çš„åŒºåˆ«ã€‚
* 4.å¯¹äºç¬¬äºŒé˜¶æ®µçš„æ£€æµ‹ï¼Œåº”è¯¥æ³¨é‡å‡†ç¡®ç‡ï¼Œç›®å‰æƒ³æ³•åˆ†ä¸º1ç±»ã€‚å› ä¸ºå®ƒä»¬çš„ç‰¹å¾æ¯”è¾ƒæ˜æ˜¾ï¼Œè¦ä¹ˆæœ‰ä¸‹åˆ’çº¿ï¼ˆçº¢æ¡†åŒºåŸŸä¸­ï¼‰ï¼Œè¦ä¹ˆä¸å…¶ä»–æ–‡æœ¬åŒºåŸŸæœ‰æ˜æ˜¾çš„ç•Œé™ã€‚

#### YOLOæ ¼å¼æ ‡ç­¾â€”â€”>VOCæ£€æµ‹æ ¼å¼

YOLOæ•°æ®é›†æ ¼å¼ï¼š

```scss
# imagesä¸‹é¢çš„trainå’Œvalæ”¾å›¾ç‰‡ï¼Œlabelsä¸‹é¢çš„trainå’Œvalä¸‹é¢æ”¾æ ‡ç­¾ï¼ˆtxtæ–‡ä»¶æ ¼å¼ï¼‰
- dataset
-- score
--- images
---- train
---- val
--- labels
---- train
---- val
```

YOLOæ ¼å¼çš„æ£€æµ‹æ ‡ç­¾è¾ƒä¸ºç®€å•ï¼Œä¾‹å­ï¼š

```scss
# ä»å·¦åˆ°å³åˆ†åˆ«ä»£è¡¨ï¼š
# ç±»åˆ« æ£€æµ‹æ¡†çš„ä¸­å¿ƒxåæ ‡ æ£€æµ‹æ¡†çš„ä¸­å¿ƒyåæ ‡ æ£€æµ‹æ¡†çš„é«˜ æ£€æµ‹æ¡†çš„å®½
# ä¸Šé¢æåŠçš„åæ ‡éƒ½å·²ç»å½’ä¸€åŒ–ï¼Œå½’ä¸€åŒ–çš„æ ‡å‡†æ˜¯æŒ‰ç…§åŸå§‹å½±åƒå¤§å°è¿›è¡Œå½’ä¸€åŒ–
0 0.915000 0.234667 0.034000 0.381333
1 0.813000 0.280667 0.034000 0.329333
2 0.721000 0.238667 0.026000 0.229333
3 0.725000 0.624667 0.034000 0.294667
4 0.661500 0.246667 0.025000 0.234667
5 0.505500 0.498000 0.131000 0.726667
6 0.045000 0.646667 0.040000 0.330667
```

é‚£ä¹ˆå¦‚ä½•å°†è¯¥æ ¼å¼è½¬åŒ–ä¸ºVOCæ ¼å¼çš„æ£€æµ‹æ•°æ®(.xmlæ–‡ä»¶)å‘¢ï¼Ÿè¿™æ¶‰åŠéƒ¨åˆ†æ•°å­¦è®¡ç®—ã€‚ä»£ç å¦‚ä¸‹ï¼š

```python
import os
import cv2
import xml.etree.ElementTree as ET
import xml.dom.minidom as minidom

def yolo_to_voc(yolo_annotation, image_path, new_label_folder):
    
    os.makedirs(new_label_folder, exist_ok=True)

    
    class_names = ['class1', 'class2', 'class3', 'class4', 'class5', 'class6', 'class7']  # Replace with your class names

    image = cv2.imread(image_path)
    height, width, _ = image.shape

    root = ET.Element("annotation")

    folder = ET.SubElement(root, "folder")
    folder.text = "VOC2007"

    filename = ET.SubElement(root, "filename")
    filename.text = os.path.basename(image_path)

    size = ET.SubElement(root, "size")
    width_elem = ET.SubElement(size, "width")
    width_elem.text = str(width)
    height_elem = ET.SubElement(size, "height")
    height_elem.text = str(height)
    depth_elem = ET.SubElement(size, "depth")
    depth_elem.text = str(3)  # Assuming 3-channel images

    for line in yolo_annotation:
        class_id, x_center, y_center, w, h = map(float, line.split())

        class_name = class_names[int(class_id)]
        x_min = int((x_center - w / 2) * width)
        y_min = int((y_center - h / 2) * height)
        x_max = int((x_center + w / 2) * width)
        y_max = int((y_center + h / 2) * height)

        object_elem = ET.SubElement(root, "object")
        name_elem = ET.SubElement(object_elem, "name")
        name_elem.text = class_name

        bbox = ET.SubElement(object_elem, "bndbox")
        xmin_elem = ET.SubElement(bbox, "xmin")
        xmin_elem.text = str(x_min)
        ymin_elem = ET.SubElement(bbox, "ymin")
        ymin_elem.text = str(y_min)
        xmax_elem = ET.SubElement(bbox, "xmax")
        xmax_elem.text = str(x_max)
        ymax_elem = ET.SubElement(bbox, "ymax")
        ymax_elem.text = str(y_max)

    xml_path = os.path.join(new_label_folder, os.path.basename(image_path).replace('.jpg', '.xml'))

    # ä¿å­˜æ–°çš„XMLæ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨xml.dom.minidomè¿›è¡Œæ ¼å¼åŒ–
    xml_string = ET.tostring(root, encoding="utf-8")
    dom = minidom.parseString(xml_string)
    pretty_xml_string = dom.toprettyxml(indent="    ")

    # å»æ‰XMLå£°æ˜
    pretty_xml_string = '\n'.join([line for line in pretty_xml_string.split('\n') if not line.strip().startswith('<?xml')])

    with open(xml_path, "w", encoding="utf-8") as f:
        f.write(pretty_xml_string)

# Replace with the actual paths to your YOLO annotation files and image folder
yolo_annotation_dir = "æˆæƒä¹¦æ ‡æ³¨/label"
image_folder = "æˆæƒä¹¦æ ‡æ³¨/biaozhu1"
new_label_folder = "æˆæƒä¹¦æ ‡æ³¨/voc_label"

if not os.path.exists(image_folder):
    raise ValueError("Image folder does not exist.")

yolo_annotation_files = os.listdir(yolo_annotation_dir)
for yolo_file in yolo_annotation_files:
    yolo_file_path = os.path.join(yolo_annotation_dir, yolo_file)
    with open(yolo_file_path, 'r') as f:
        yolo_lines = f.readlines()

    image_name = os.path.splitext(yolo_file)[0] + ".jpg"
    image_path = os.path.join(image_folder, image_name)

    if not os.path.exists(image_path):
        raise ValueError(f"Image '{image_name}' not found in the image folder.")

    yolo_to_voc(yolo_lines, image_path, new_label_folder)

```

#### YOLOv8ä¸“ç”¨æ¡†æ¶

YOLOv8å®˜æ–¹çš„ä»£ç åº“éå¸¸å®Œå–„ï¼Œå®˜æ–¹æä¾›äº†å‘½ä»¤è¡Œï¼ˆCLIï¼‰å’ŒPythonæ¥å£ï¼Œå°è£…åœ°ç›¸å½“å¥½ã€‚

[YOLOv8å®˜æ–¹ä»£ç åº“](https://github.com/ultralytics/ultralytics)

[YOLOv8å®˜æ–¹æ–‡æ¡£](https://docs.ultralytics.com/)

> ç¯å¢ƒå‡†å¤‡

ç¯å¢ƒå‡†å¤‡å…¶å®éå¸¸ç®€å•ï¼Œå‡†å¤‡ä¸€ä¸ªèƒ½ä½¿ç”¨CUDAå’ŒcuDNNçš„ç¯å¢ƒå°±å¥½ã€‚ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å…¶å°è£…å¥½çš„æ¥å£ï¼Œä¸æ˜¯ä¼˜åŒ–æºä»£ç ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä¸‹è½½ä¸€ä¸ª`ultralytics`çš„åŒ…å°±okäº†ï¼š

```shell
$ pip install ultralytics
```

å¦‚æœéœ€è¦ä½¿ç”¨dockerï¼Œå®ƒä¹Ÿåœ¨`Docker-Hub`ä¸Šé›†æˆå¥½äº†é•œåƒï¼š[https://hub.docker.com/r/ultralytics/ultralytics](https://hub.docker.com/r/ultralytics/ultralytics)ï¼Œä¹Ÿæ”¯æŒ`Gradient`ï¼Œ`Colab`ï¼Œ`Kaggle`å¹³å°ä½¿ç”¨ï¼Œå¯¹ç™½å«–å…šä¹Ÿå¾ˆå‹å¥½ã€‚

> æ•°æ®å‡†å¤‡

YOLOv8ä½¿ç”¨çš„æ˜¯yoloæ ¼å¼çš„æ•°æ®é›†ã€‚å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯å…¶æ£€æµ‹çš„åˆ†æ”¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å‡†å¤‡ä¸€ä¸ªæ£€æµ‹çš„æ•°æ®é›†ã€‚æ•°æ®é›†çš„æ–‡ä»¶ç»„ç»‡æ–¹å¼å¦‚ä¸‹ï¼š

```scss
- æ•°æ®é›†åç§°
-- dataset
--- score
---- images
----- train
...//æ”¾ç½®å›¾ç‰‡
----- val
...//æ”¾ç½®å›¾ç‰‡
---- labels
----- train
...//æ”¾ç½®txtæ ‡ç­¾æ–‡ä»¶
----- val
...//æ”¾ç½®txtæ ‡ç­¾æ–‡ä»¶
```

ç¼–å†™ä¸€ä¸ªå…³äºæ•°æ®é›†çš„yamlæ–‡ä»¶ï¼Œ`data.yaml`:

```yaml
# Train/val/test sets as 1) dir: path/to/imgs, 2) file: path/to/imgs.txt, or 3) list: [path/to/imgs1, path/to/imgs2, ..]
train: ./YOLO_Authorize_letter/dataset/score/images/train # train images
val: ./YOLO_Authorize_letter/dataset/score/images/val # val images
# test:  # test images (optional)

# Classes æ³¨æ„è¿™é‡Œçš„ç±»åˆ«å’Œæ ‡ç­¾çš„ç±»åˆ«è¦å¯¹åº”
names:
  0: class1
  1: class2
  2: class3
  3: class4
  4: class5
  5: class6
  6: class7
```

ä½¿ç”¨å®˜æ–¹æä¾›çš„æ¨¡å‹yamlæ–‡ä»¶ï¼Œ`yolov8.yaml`ï¼š

```yaml
# Ultralytics YOLO ğŸš€, AGPL-3.0 license
# YOLOv8 object detection model with P3-P5 outputs. For Usage examples see https://docs.ultralytics.com/tasks/detect

# Parameters
nc: 7  # number of classes
scales: # model compound scaling constants, i.e. 'model=yolov8n.yaml' will call yolov8.yaml with scale 'n'
  # [depth, width, max_channels]
  n: [0.33, 0.25, 1024]  # YOLOv8n summary: 225 layers,  3157200 parameters,  3157184 gradients,   8.9 GFLOPs
  s: [0.33, 0.50, 1024]  # YOLOv8s summary: 225 layers, 11166560 parameters, 11166544 gradients,  28.8 GFLOPs
  m: [0.67, 0.75, 768]   # YOLOv8m summary: 295 layers, 25902640 parameters, 25902624 gradients,  79.3 GFLOPs
  l: [1.00, 1.00, 512]   # YOLOv8l summary: 365 layers, 43691520 parameters, 43691504 gradients, 165.7 GFLOPs
  x: [1.00, 1.25, 512]   # YOLOv8x summary: 365 layers, 68229648 parameters, 68229632 gradients, 258.5 GFLOPs

# YOLOv8.0n backbone
backbone:
  # [from, repeats, module, args]
  - [-1, 1, Conv, [64, 3, 2]]  # 0-P1/2
  - [-1, 1, Conv, [128, 3, 2]]  # 1-P2/4
  - [-1, 3, C2f, [128, True]]
  - [-1, 1, Conv, [256, 3, 2]]  # 3-P3/8
  - [-1, 6, C2f, [256, True]]
  - [-1, 1, Conv, [512, 3, 2]]  # 5-P4/16
  - [-1, 6, C2f, [512, True]]
  - [-1, 1, Conv, [1024, 3, 2]]  # 7-P5/32
  - [-1, 3, C2f, [1024, True]]
  - [-1, 1, SPPF, [1024, 5]]  # 9

# YOLOv8.0n head
head:
  - [-1, 1, nn.Upsample, [None, 2, 'nearest']]
  - [[-1, 6], 1, Concat, [1]]  # cat backbone P4
  - [-1, 3, C2f, [512]]  # 12

  - [-1, 1, nn.Upsample, [None, 2, 'nearest']]
  - [[-1, 4], 1, Concat, [1]]  # cat backbone P3
  - [-1, 3, C2f, [256]]  # 15 (P3/8-small)

  - [-1, 1, Conv, [256, 3, 2]]
  - [[-1, 12], 1, Concat, [1]]  # cat head P4
  - [-1, 3, C2f, [512]]  # 18 (P4/16-medium)

  - [-1, 1, Conv, [512, 3, 2]]
  - [[-1, 9], 1, Concat, [1]]  # cat head P5
  - [-1, 3, C2f, [1024]]  # 21 (P5/32-large)

  - [[15, 18, 21], 1, Detect, [nc]]  # Detect(P3, P4, P5)

```

ä½¿ç”¨è¯¥æ–‡ä»¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼š`nc`éœ€è¦æ ¹æ®è‡ªå·±æ•°æ®é›†çš„åˆ†ç±»æ•°è¿›è¡Œæ”¹å˜ï¼Œä¸ä¸Šé¢çš„`data.yaml`çš„ç±»åˆ«éœ€è¦å¯¹åº”ã€‚

> è®­ç»ƒå‡†å¤‡

æ–°å»ºä¸€ä¸ªYOLOv8æ ¹ç›®å½•ï¼Œå°†æ•°æ®é›†ä»¥åŠä¸Šè¿°ä¸¤ä¸ªæ–‡ä»¶æ”¾ç½®åœ¨æ ¹ç›®å½•ä¸Šï¼Œè¿è¡Œå®˜æ–¹ç»™çš„è®­ç»ƒç¤ºä¾‹ï¼š

```shell
$ yolo train data=coco128.yaml model=yolov8m.yaml epochs=10 lr0=0.01
```

éœ€è¦æ³¨æ„çš„æ˜¯è™½ç„¶æˆ‘ä»¬çš„æ–‡ä»¶æ˜¯`yolov8.yaml`ï¼Œæˆ‘ä»¬ä½¿ç”¨`yolov8n.yaml`ä¼šç›´æ¥è¿›è¡Œè§£æï¼Œéå¸¸æ–¹ä¾¿ã€‚

ä½†ç®€å•çš„å‚æ•°è°ƒæ•´ä¸è¶³ä»¥ä½¿ç”¨ï¼Œæˆ‘ä»¬è¦è·å–å…¨å±€çš„å‚æ•°è°ƒæ•´ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹å¼ï¼š

* é¦–å…ˆåœ¨å‘½ä»¤è¡Œè¾“å…¥ï¼š

```shell
$ yolo copy-cfg
```

è¿™æ—¶å¯ä»¥çœ‹åˆ°æ ¹ç›®å½•å‡ºç°äº†ä¸€ä¸ª`default_copy.yaml`æ–‡ä»¶

* ä¿®æ”¹`default_copy.yaml`æ–‡ä»¶çš„å†…å®¹å¹¶ä¿å­˜ï¼Œæ¯ä¸ªå‚æ•°çš„å«ä¹‰å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œè¿™é‡Œç»™å‡ ä¸ªè®­ç»ƒæ—¶é‡è¦çš„å‚æ•°ï¼š
  * task: æä¾›çš„é€‰é¡¹æœ‰*detect, segment, classify, pose*ï¼Œåˆ†åˆ«å¯¹åº”æ£€æµ‹ï¼Œåˆ†å‰²ï¼Œåˆ†ç±»ï¼Œå§¿æ€ä¼°è®¡ã€‚
  * mode: æä¾›çš„é€‰é¡¹æœ‰*train, val, predict, export, track, benchmark*ï¼Œåˆ†åˆ«ä»£è¡¨è®­ç»ƒï¼ŒéªŒè¯ï¼Œé¢„æµ‹ï¼Œå¯¼å‡ºï¼Œè·Ÿè¸ªï¼ŒåŸºå‡†æµ‹è¯•ã€‚å¡«å…¥`train`ã€‚
  * model: å¯ä»¥ä½¿ç”¨ptæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨yamlæ–‡ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨`yolov8m.yaml`
  * data: æŒ‡å®šçš„æ•°æ®é›†é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨`data.yaml`
  * epoch: è®­ç»ƒçš„è½®æ•°ï¼Œ**æ•°æ®é›†è¶Šå°ï¼Œéœ€è¦çš„è½®æ•°è¶Šå¤š**ã€‚
  * patience: æŒ‡å®šæœ‰å¤šå°‘è½®åæŒ‡æ ‡åä¼˜æ˜æ˜¾çš„å¢é•¿åˆ™åœæ­¢è®­ç»ƒï¼ˆearly stopçš„è®­ç»ƒç­–ç•¥ï¼‰ã€‚ä½¿ç”¨é»˜è®¤çš„50
  * batch: æ ¹æ®GPUçš„æ˜¾å­˜æ¥åˆç†è®¾ç½®ï¼Œä¸€èˆ¬ä¸º2çš„æ¬¡æ–¹
  * imgsz: ä¸€èˆ¬ä½¿ç”¨640
  * device: æŒ‡å®šGPUè®¾å¤‡ï¼Œæœ‰ä¸‰ç§é€‰é¡¹ï¼Œå•å¡ï¼Œå¤šå¡å’Œcpuï¼Œåˆ†åˆ«å¯¹åº”*device=0 or device=0,1,2,3 or device=cpu*ã€‚åœ¨Linuxä¸Šå¯ä»¥ä½¿ç”¨`nvidia-smi`æ¥æŸ¥çœ‹ä½ çš„GPUè®¾å¤‡ä¿¡æ¯ã€‚
  * workers: ä»£è¡¨å¤šçº¿ç¨‹è¯»å–æ•°æ®ï¼Œå»ºè®®æŒ‡å®šä½ä¸€ç‚¹ï¼Œå°¤å…¶æ˜¯æœåŠ¡å™¨ä¸Šå¤šäººä½¿ç”¨æ—¶ï¼ŒæŒ‡å®šè¿‡å¤šå°±ä¼šæŠ¥é”™ã€‚æˆ‘ä»¬åˆ¶å®šä¸º2ã€‚

* è¦†ç›–é»˜è®¤çš„é…ç½®è¿›è¡Œè®­ç»ƒï¼š

```shell
$ yolo yolo cfg='default_copy.yaml'
```

* æŸ¥çœ‹è®­ç»ƒçš„ç»“æœï¼š

è®­ç»ƒç»“æœä¼šåœ¨æ ¹ç›®å½•ä¸‹çš„`runs/detect/train`æ–‡ä»¶å¤¹ä¸‹ï¼Œå¦‚æœæ˜¯ç¬¬äºŒæ¬¡å¯åŠ¨è®­ç»ƒåˆ™ä¼šåœ¨`runs/detect/train2`æ–‡ä»¶å¤¹ä¸‹ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ç»ˆç«¯æç¤ºçš„å‘½ä»¤åœ¨TensorBoardæŸ¥çœ‹ï¼Œå¦‚æœæ˜¯æœåŠ¡å™¨ä¸Šï¼Œå°±éœ€è¦ä½¿ç”¨æœåŠ¡å™¨ç«¯å£æ˜ å°„çš„æœåŠ¡ï¼Œåœ¨ä¸Šæ–‡æœ‰è®²ã€‚

> ç”¨è®­ç»ƒå¾—åˆ°çš„æ¨¡å‹è¿›è¡Œé¢„æµ‹

æˆ‘ä»¬ä»ç„¶å¯ä»¥ä½¿ç”¨CLIçš„æ–¹å¼è¿è¡Œï¼Œåªéœ€è¦ä¿®æ”¹modeçš„modelä»¥åŠpredicté‚£ä¸€æ çš„å‚æ•°ã€‚ä½†æˆ‘å¹¶ä¸æ¨èè¿™ç§æ–¹å¼ï¼Œå› ä¸ºæˆ‘ä»¬é€šå¸¸çš„ç›®çš„å¹¶ä¸æ˜¯å•çº¯æ£€æµ‹ï¼Œè€Œæ˜¯ä¸ºäº†æ£€æµ‹å‡ºåè·å–åæ ‡è¿›è¡Œåç»­æ“ä½œã€‚

æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨pythonæ¥å£çš„æ–¹å¼ï¼Œå®˜æ–¹ç»™çš„å°ç¤ºä¾‹ï¼š

```python
from ultralytics import YOLO

model = YOLO("runs/detect/train/weights/best.pt")
# accepts all formats - image/dir/Path/URL/video/PIL/ndarray. 0 for webcam
# sourceè¿™é‡Œæ”¾å­˜æ”¾éœ€è¦é¢„æµ‹å›¾ç‰‡çš„æ–‡ä»¶ä½ç½®
results = model.predict(source="...", save=True) 
```

**éœ€è¦æ³¨æ„çš„æ˜¯predictä¸­æ¥å—çš„å‚æ•°è¿˜æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æ¯”è¾ƒé‡è¦çš„æœ‰`conf`ï¼Œä»£è¡¨æˆ‘ä»¬ä¿ç•™é¢„æµ‹æ¡†çš„ç½®ä¿¡åº¦ï¼Œ`imgsz`ä»£è¡¨æ¨¡å‹æ¨ç†çš„è¾“å…¥å°ºå¯¸å¤§å°ï¼Œé»˜è®¤ä¸ºï¼ˆ640ï¼Œ480ï¼‰ï¼Œ`line_width`ä»£è¡¨æ£€æµ‹æ¡†çš„ç²—å¿ƒï¼Œåªèƒ½ä¸ºintå€¼ã€‚æ›´å¤šçš„å‚æ•°è®¾ç½®å‚è€ƒå®˜æ–¹æ–‡æ¡£**

é¢„æµ‹çš„ç»“æœä¼šä¿å­˜åœ¨`runs/detect/predict`ï¼Œå¦‚æœæ˜¯ç¬¬äºŒæ¬¡é¢„æµ‹ä¼šä¿å­˜åœ¨`runs/detect/predict2`ï¼Œä¾æ¬¡ç±»æ¨ã€‚

ä¸ºäº†äº†è§£resultsçš„å†…å®¹ï¼Œå°†ä¸€å¼ å›¾ç‰‡çš„é¢„æµ‹çš„ç»“æœresultsè¾“å‡ºä¸€ä¸‹ï¼š

```scss
boxes: ultralytics.engine.results.Boxes object
keypoints: None
keys: ['boxes']
masks: None
names: {0: 'company_name', 1: 'signature', 2: 'authorized_name', 3: 'telephone_number', 4: 'id_number', 5: 'mobile_branch_name', 6: 'date'}
orig_img: array([[[ 94, 107, 123],
        [ 93, 106, 122],
        [ 92, 105, 121],
        ...,
        [ 81, 102, 117],
        [ 79, 100, 115],
        [ 78,  99, 114]],

       [[ 95, 108, 124],
        [ 94, 107, 123],
        [ 93, 106, 122],
        ...,
        [ 77,  98, 113],
        [ 77,  98, 113],
        [ 78,  99, 114]],

       [[ 95, 108, 124],
        [ 95, 108, 124],
        [ 94, 107, 123],
        ...,
        [ 76,  97, 112],
        [ 76,  97, 112],
        [ 78,  99, 114]],

       ...,

       [[100, 120, 138],
        [100, 120, 138],
        [ 99, 119, 137],
        ...,
        [115, 135, 153],
        [113, 133, 151],
        [114, 134, 152]],

       [[101, 118, 137],
        [101, 118, 137],
        [101, 118, 137],
        ...,
        [116, 136, 154],
        [115, 135, 153],
        [114, 134, 152]],

       [[100, 117, 136],
        [100, 117, 136],
        [100, 117, 136],
        ...,
        [118, 138, 156],
        [117, 137, 155],
        [113, 133, 151]]], dtype=uint8)
orig_shape: (3648, 2736)
path: '/data/caixj/ultralytics-main/test_imgs/ed257e76-cec1-11ed-b87c-58961d2b4192.jpg'
probs: None
save_dir: None
speed: {'preprocess': 3.3495426177978516, 'inference': 32.27806091308594, 'postprocess': 1.6703605651855469}]
```

ç»“åˆå®˜æ–¹æ–‡æ¡£ï¼Œå‘ç°æˆ‘ä»¬éœ€è¦çš„æ£€æµ‹æ¡†çš„åæ ‡ä¿¡æ¯åœ¨boxeså¯¹è±¡ä¸­ã€‚boxeså¯¹è±¡çš„å±æ€§ä¿¡æ¯å¦‚ä¸‹ï¼š

```
boxes.xyxy  # æ£€æµ‹æ¡†çš„ç»å¯¹å€¼åæ ‡ï¼Œåˆ†åˆ«æ˜¯min_x,min_y,max_x,max_y
boxes.xywh  # æ£€æµ‹æ¡†çš„ç»å¯¹å€¼åæ ‡ï¼Œåˆ†åˆ«æ˜¯ä¸­å¿ƒç‚¹åæ ‡å’Œå®½é«˜
boxes.xyxyn  # æ£€æµ‹æ¡†çš„å½’ä¸€åŒ–åæ ‡ï¼Œåˆ†åˆ«æ˜¯min_x,min_y,max_x,max_y 
boxes.xywhn  # æ£€æµ‹æ¡†çš„å½’ä¸€åŒ–åæ ‡ï¼Œåˆ†åˆ«æ˜¯ä¸­å¿ƒç‚¹åæ ‡å’Œå®½é«˜
boxes.conf  # æ£€æµ‹æ¡†çš„ç½®ä¿¡åˆ†æ•°
boxes.cls  # ç±»åˆ«, (N, )
boxes.data  # åŸå§‹ç›®æ ‡æ¡†å‚æ•°åæ ‡ (x, y, w, h)ã€ç½®ä¿¡åº¦ä»¥åŠç±»åˆ«, (N, 6) or boxes.boxes
```

ä¸ºäº†å®Œæˆæˆ‘ä»¬åˆ‡å‰²åŒºåŸŸçš„éœ€æ±‚ï¼Œæˆ‘ä»¬æ¥ç¼–å†™ä¸€ä¸ªå°çš„è„šæœ¬è¿›è¡Œæ‰¹é‡æ“ä½œï¼š

```python
from ultralytics import YOLO
from PIL import Image
import cv2
import numpy as np
import os


def process_image_with_yolov8(image, detections, image_out):
    
    # è·å–åŸå§‹å›¾åƒçš„å°ºå¯¸
    height, width = image.shape[:2]

    # åˆ›å»ºå…¨é»‘é®ç½©ï¼Œä¸åŸå§‹å›¾åƒå°ºå¯¸ç›¸åŒ
    mask = np.zeros((height, width), dtype=np.uint8)

    # å°†æ£€æµ‹åˆ°çš„åŒºåŸŸè®¾ä¸ºéé›¶å€¼
    for box in detections:
        x_min, y_min, x_max, y_max = box[:4]
        x_min, x_max = int(x_min * width), int(x_max * width)
        y_min, y_max = int(y_min * height), int(y_max * height)
        mask[y_min:y_max, x_min:x_max] = 255  # è®¾ç½®ä¸º255ï¼Œå³ç™½è‰²ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸º1
        
    
    # å°†åŸå§‹å›¾åƒä¸é®ç½©å›¾åƒç›¸ä¹˜ï¼Œå¾—åˆ°åªæœ‰æ£€æµ‹åŒºåŸŸä¿æŒåŸå§‹åƒç´ å€¼ï¼Œå…¶ä»–åŒºåŸŸéƒ½å˜ä¸º0çš„å›¾åƒ
    result_image = cv2.bitwise_and(image, image, mask=mask)

    # ä¿å­˜ç»“æœå›¾
    cv2.imwrite(image_out, result_image)

if __name__ == "__main__":
    image_dir = "test_imgs"
    images_process = "images_process"

    model = YOLO("runs/detect/train/weights/best.pt")
    # accepts all formats - image/dir/Path/URL/video/PIL/ndarray. 0 for webcam
    results = model.predict(source=image_dir, save=False, conf=0.45, device=1, line_width=2) # 
    # print(results)

    for i in range(len(results)):
      	# è¯»å–resultsç»“æœå†…çš„åŸå§‹å›¾åƒ
        # æœ€å¥½ä¸è¦é€šè¿‡cv2å’ŒPILç­‰é‡æ–°è¯»å…¥ï¼Œå®æµ‹å’Œé¢„æµ‹æ¡†çš„ç»“æœä¼šæœ‰åå·®
        image = results[i].orig_img
        image_name = results[i].path.split('/')[-1]
        image_out = os.path.join(images_process, image_name)
        result = results[i].cpu().numpy()
        # è·å–å½’ä¸€åŒ–çš„åæ ‡
        detections = result.boxes.xyxyn
        print("è¯¥å¼ å›¾åƒçš„æ£€æµ‹æ¡†åæ ‡åˆ†åˆ«ä¸ºï¼š")
        print(detections)
        process_image_with_yolov8(image, detections, image_out) 
```

#### Logæ—¥å¿—ä½¿ç”¨

> logæ—¥å¿—çš„çº§åˆ«

`logging` æ¨¡å—å®šä¹‰äº†å‡ ä¸ªä¸åŒçº§åˆ«çš„æ—¥å¿—ï¼Œä»é«˜åˆ°ä½çš„é¡ºåºå¦‚ä¸‹ï¼š

1. `CRITICAL`ï¼ˆæœ€é«˜çº§åˆ«ï¼‰ï¼šç”¨äºæŒ‡ç¤ºä¸¥é‡çš„é”™è¯¯ï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºæ— æ³•ç»§ç»­è¿è¡Œã€‚
2. `ERROR`ï¼šç”¨äºæŒ‡ç¤ºç¨‹åºè¿è¡Œæ—¶çš„é”™è¯¯ï¼Œä½†ç¨‹åºä»ç„¶å¯ä»¥ç»§ç»­è¿è¡Œã€‚
3. `WARNING`ï¼šç”¨äºè¡¨ç¤ºè­¦å‘Šä¿¡æ¯ï¼Œå¯èƒ½è¡¨æ˜ç¨‹åºå‡ºç°äº†ä¸€äº›æ„å¤–æƒ…å†µï¼Œä½†ä»ç„¶åœ¨æ­£å¸¸è¿è¡Œã€‚
4. `INFO`ï¼šç”¨äºä¸€èˆ¬æ€§çš„ä¿¡æ¯è®°å½•ï¼Œç”¨æ¥è¿½è¸ªç¨‹åºçš„æ‰§è¡ŒçŠ¶æ€ã€‚
5. `DEBUG`ï¼ˆæœ€ä½çº§åˆ«ï¼‰ï¼šç”¨äºè°ƒè¯•ç›®çš„ï¼Œè®°å½•è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯ï¼Œä¸€èˆ¬åœ¨å¼€å‘å’Œè°ƒè¯•é˜¶æ®µä½¿ç”¨ã€‚

è¿™äº›æ—¥å¿—çº§åˆ«çš„åŒºåˆ«åœ¨äºå®ƒä»¬çš„ä¸¥é‡ç¨‹åº¦å’Œç›®çš„ã€‚ä½ å¯ä»¥æ ¹æ®ä¸åŒçš„åœºæ™¯å’Œéœ€æ±‚ï¼Œé€‰æ‹©é€‚å½“çš„æ—¥å¿—çº§åˆ«æ¥è®°å½•ä¿¡æ¯ã€‚

å¦‚æœä½ å¸Œæœ›åŒæ—¶ä¿å­˜å¤šä¸ªçº§åˆ«çš„æ—¥å¿—ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªæ—¥å¿—å¤„ç†ç¨‹åºï¼Œæ¯ä¸ªå¤„ç†ç¨‹åºè´Ÿè´£å¤„ç†ä¸€ä¸ªç‰¹å®šçº§åˆ«çš„æ—¥å¿—ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•åŒæ—¶ä¿å­˜ `DEBUG`ã€`INFO`ã€`WARNING`ã€`ERROR` å’Œ `CRITICAL` äº”ä¸ªçº§åˆ«çš„æ—¥å¿—ã€‚

```python
import os
import logging
from datetime import datetime

# ç¡®ä¿logsæ–‡ä»¶å¤¹å­˜åœ¨
if not os.path.exists('logs'):
    os.makedirs('logs')

# è·å–å½“å‰æ—¶é—´å¹¶æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²
current_time = datetime.now().strftime('%Y-%m-%d_%H-%M-%S')

# è®¾ç½®æ—¥å¿—æ–‡ä»¶å
log_filename = os.path.join('logs', f'{current_time}-server.log')

# é…ç½®æ—¥å¿—
logging.basicConfig(filename=log_filename, level=logging.DEBUG,
                    format='%(asctime)s - %(levelname)s - %(message)s')

# è·å–ä¸€ä¸ªLoggerå®ä¾‹
logger = logging.getLogger(__name__)

# åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤„ç†ç¨‹åºæ¥ä¿å­˜æ‰€æœ‰çº§åˆ«çš„æ—¥å¿—
file_handler = logging.FileHandler(log_filename)
file_handler.setLevel(logging.DEBUG)

# åˆ›å»ºä¸€ä¸ªæ§åˆ¶å°å¤„ç†ç¨‹åºæ¥è¾“å‡ºINFOçº§åˆ«ä»¥ä¸Šçš„æ—¥å¿—åˆ°æ§åˆ¶å°
console_handler = logging.StreamHandler()
console_handler.setLevel(logging.INFO)

# åˆ›å»ºä¸€ä¸ªæ ¼å¼åŒ–å™¨
formatter = logging.Formatter('%(asctime)s - %(levelname)s - %(message)s')
file_handler.setFormatter(formatter)
console_handler.setFormatter(formatter)

# å°†å¤„ç†ç¨‹åºæ·»åŠ åˆ°Loggerå®ä¾‹
logger.addHandler(file_handler)
logger.addHandler(console_handler)

def process_data(data):
    try:
        # ... ä¸€äº›å¤„ç†é€»è¾‘
        
        # è®°å½•æ—¥å¿—
        logger.debug("Debug message: %s", data)
        logger.info("Info message: %s", data)
        logger.warning("Warning message: %s", data)
        logger.error("Error message: %s", data)
        logger.critical("Critical message: %s", data)
        
        return "Data processed successfully."
    except Exception as e:
        # è®°å½•å¼‚å¸¸æ—¥å¿—
        logger.exception("An exception occurred: %s", str(e))
        return "An error occurred."

if __name__ == '__main__':
    data = "Some data to process"
    result = process_data(data)
    print(result)
```

åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶å¤„ç†ç¨‹åº `file_handler` æ¥ä¿å­˜æ‰€æœ‰çº§åˆ«çš„æ—¥å¿—ï¼Œå¹¶å°†å®ƒæ·»åŠ åˆ° Logger å®ä¾‹ä¸­ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ§åˆ¶å°å¤„ç†ç¨‹åº `console_handler` æ¥è¾“å‡º `INFO` çº§åˆ«ä»¥ä¸Šçš„æ—¥å¿—åˆ°æ§åˆ¶å°ï¼Œå¹¶å°†å®ƒä¹Ÿæ·»åŠ åˆ° Logger å®ä¾‹ä¸­ã€‚è¿™æ ·ï¼Œä½ å°±å¯ä»¥åŒæ—¶ä¿å­˜ `DEBUG`ã€`INFO`ã€`WARNING`ã€`ERROR` å’Œ `CRITICAL` äº”ä¸ªçº§åˆ«çš„æ—¥å¿—ï¼Œå¹¶ä¸”åœ¨æ§åˆ¶å°ä¸Šè¾“å‡ºä¸€éƒ¨åˆ†çº§åˆ«çš„ä¿¡æ¯ã€‚

#### æ¥å£çš„å°è£…

è¯¥éƒ¨åˆ†ç”±äºæ¶‰åŠå…¬å¸çš„ä»£ç ï¼Œåªè®²æ€è·¯ã€‚é€šå¸¸æ‰“åŒ…éœ€è¦ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯åŒ…å«ç¯å¢ƒå˜é‡çš„é•œåƒæ–‡ä»¶ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯é¡¹ç›®çš„æºä»£ç åŒ…ã€‚

å·¥ç¨‹çš„æ ‡å‡†ï¼š

* ä¸€èˆ¬éœ€è¦å°†å¯ä»¥è®¾ç½®çš„å‚æ•°æ–‡ä»¶ç»Ÿä¸€é›†æˆåˆ°ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­ã€‚å¦‚æœé…ç½®å‚æ•°è¿‡å¤šï¼Œè¿˜å¯ä»¥åˆ†æ–‡ä»¶å­˜å‚¨ï¼Œä¸€èˆ¬æ”¾åœ¨`config`æ–‡ä»¶å¤¹ä¸‹ã€‚
* æ¨¡å‹å‚æ•°æƒé‡åˆ™ä¸€èˆ¬æ”¾åœ¨ä¸€ä¸ªä¸“é—¨çš„`models`æˆ–è€…`checkpoints`æ–‡ä»¶å¤¹ä¸‹é¢
* ä½¿ç”¨onnxï¼Œtrnsorrtæ¨ç†ï¼Œæ˜¯ä¸éœ€è¦æ¨¡å‹æ–‡ä»¶çš„ã€‚å¦‚æœç›´æ¥ç”¨pytorchæ¨ç†ï¼Œä¸€èˆ¬éœ€è¦ä¸€ä¸ªæ¨¡å‹æ–‡ä»¶ï¼Œä»¥åŠä¸€äº›å‰å¤„ç†å’Œåå¤„ç†çš„æ–‡ä»¶ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯yolov8å®˜æ–¹æä¾›çš„æ¨ç†åŒ…ï¼Œåˆ™ä¸éœ€è¦æ¨¡å‹æ–‡ä»¶äº†ã€‚
* ä¸»å‡½æ•°ä¸è¦é›†æˆå¤ªå¤šçš„æ–¹æ³•ï¼Œå°½é‡åˆ†æ–‡ä»¶å†™
* ç¨‹åºä¸­éœ€è¦åŒ…å«è¯¦ç»†çš„æ—¥å¿—è®°å½•ï¼Œå¹¶éœ€è¦è‡ªåŠ¨ä¿å­˜åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶å¤¹ä¸­ã€‚ä¸€èˆ¬ä½¿ç”¨`logs`æ–‡ä»¶å¤¹ã€‚